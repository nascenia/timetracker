.collapse#addEmployee
  .card.mt-3
    .card-header 
      %h2.fs-5 Fill employee information
    .card-body
      = form_for @pre_registration, html: {class: '', 'data-controller' => 'leave'} do |f|
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :name do
              = 'Employee name'
              %span.text-danger *
          .col-sm-10
            = f.text_field :name, class: 'form-control', required: 'true', maxlength: '128'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :joining_date do
              = 'Joining date'
              %span.text-danger *
          .col-sm-10
            = f.text_field :joining_date, class: 'form-control date-picker', value: Time.now.strftime('%Y/%m/%d'), onkeydown: 'return false'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :designation do
              = 'Designation'
              %span.text-danger *
          .col-sm-10
            = f.select :designation, Designation.published.map{ |d| [d.title, d.title] }, { include_blank: 'select' }, class: 'form-select'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :ttf_id do
              = 'Name of TTF/Mentor'
              %span.text-danger *
          .col-sm-10
            = f.select :ttf_id, options_for_select(@ttf_list.collect { | ttf_list | [ttf_list.name,  ttf_list.id] }), { include_blank: 'select' }, required: 'true', autofocus: 'true', class: 'form-select', id:'select-ttf'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :email_group do
              = 'Suggested email group'
              .span.text-danger *
          .col-sm-10
            = f.text_field :email_group, class: 'form-control', required: 'true', maxlength: '128'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :leave_approval_path_id do
              = 'Leave approval path'
              %span.text-danger *
          .col-sm-10
            = f.select :leave_approval_path_id, options_for_select(ApprovalPath.all.collect { | ap | [ap.name,  ap.id] }), { include_blank: 'select' }, required: 'true', autofocus: 'true', class: 'form-select', id: 'leave-approval-path'
            = link_to 'Click here', new_approval_chain_path
            %p to create a leave approval path with this TTF first, if not there is one already.
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :contact_number do
              = 'Contact number'
              %span.text-danger *
          .col-sm-10
            = f.text_field :contact_number, pattern: '[0][1][3-9][0-9]{8}', title: 'Enter a valid mobile number!', class: 'form-control', required: 'true', maxlength: '128'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :personal_email do
              = 'Personal email'
              %span.text-danger *
          .col-sm-10
            = f.text_field :personal_email , class: 'form-control', pattern: '[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$', title: 'Enter a valid email address!', required: 'true', maxlength: '128'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :holiday_scheme_id do
              = 'Holiday scheme'
              %span.text-danger *
          .col-sm-10
            = f.select :holiday_scheme_id, options_for_select(@holiday_scheme.collect{ | holiday | [holiday.name,  holiday.id] }), { include_blank: 'select' }, required: 'true', autofocus: 'true', class: 'form-select', id: 'select-other-projects'     
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :weekend_id do
              = 'Weekend scheme'
              %span.text-danger *
          .col-sm-10
            = f.select :weekend_id, options_for_select(@weekend_scheme.collect{ | weekend | [weekend.name, weekend.id] }), { include_blank: 'select' }, required: 'true', autofocus: 'true', class: 'form-select', id: 'select-other-projects'
        .row.mb-3
          .col-sm-2.col-form-label
            = f.label :employee_id do
              = 'Employee ID'
              %span.text-danger *
          .col-sm-10
            = f.text_field :employee_id, autofocus: 'true', class: 'form-control', placeholder: 'Example - A0001', pattern: '[A-Za-z0-9]+$', required: 'true', maxlength: '5'
            %span (Must be 5 character length)
        .row.mb-3
          .col-sm-2.col-form-label
          .col-sm-10
            = f.check_box :nda_signed, checked: false, required: true
            = 'NDA signed'
            %span.text-danger *
            = f.file_field :nda_doc, onchange: 'validateFiles(this);', data: { max_file_size: 50.megabytes }     
        .row.mb-3
          .col-sm-2.col-form-label
            %label
          .col-sm-10
            = f.label :workstation_ready do
              = f.check_box :workstation_ready, checked: false, required: true
              = 'Workstation prepared for new employee?'
              %span.text-danger *
        .row.mb-3
          .col-sm-2.col-form-label
            %label
          .col-sm-10
            = f.label :pack_ready do
              = f.check_box :pack_ready, checked: false, required: true 
              = 'Greeting pack prepared for new employee?'
              %span.text-danger *
                
        = f.submit 'Submit', class: 'btn btn-success'