.panel.panel-default
  .panel-heading
    %b Leave balance

  %table.table.table-bordered.table-hover
    %thead
      %tr
        %th Leave type
        %th Casual (hours)
        %th Medical (hours)
    %tbody
      %tr
        %th Yearly leave
        %td= LeaveTracker::YEARLY_CASUAL_LEAVE
        %td= LeaveTracker::YEARLY_MEDICAL_LEAVE
      %tr
        %th Accrued in this year
        %td= @user.leave_tracker.accrued_vacation_this_year
        %td= @user.leave_tracker.accrued_medical_this_year
      %tr
        %th Carried forwarded leave
        %td= @user.leave_tracker.carried_forward_vacation
        %td= @user.leave_tracker.carried_forward_medical
      %tr
        %th Accrued in total
        %td= @user.leave_tracker.accrued_vacation_total
        %td= @user.leave_tracker.accrued_medical_total
      %tr
        %th Consumed leave
        %td= @user.leave_tracker.consumed_vacation
        %td= @user.leave_tracker.consumed_medical
      %tr
        %th Accrual balance
        %td= @user.leave_tracker.accrued_vacation_balance
        %td= @user.leave_tracker.accrued_medical_balance

.panel.panel-default
  .panel-heading
    %b Leave History
  - if @user.leaves.count > 0
    %table.table.table-bordered
      %thead
        %tr
          %th{:width => '20%'} Name
          %th{:width => '15%'} Type
          %th{:width => '35%'} Description
          %th{:width => '10%'} Status
          %th{:width => '20%'} Action
      %tbody
        - @user.leaves.each do |leave|
          %tr
            %td= leave.user.name
            %td= type_of(leave)
            %td= leave.reason
            %td= get_status(leave.status)
            %td
              = link_to 'show', leave_path(leave)
              - unless leave.start_date < Time.now
                |
                = link_to 'Cancel', leave_path(leave), method: :delete, data: { confirm: 'Are you sure' }
  - else
    .alert.alert-info{:role => 'alert'}
      %strong Empty!
      No record found.
